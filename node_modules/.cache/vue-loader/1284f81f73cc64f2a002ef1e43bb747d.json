{"remainingRequest":"E:\\data\\git\\vue-admin\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\data\\git\\vue-admin\\vue-element-admin\\src\\components\\DragSelect\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\data\\git\\vue-admin\\vue-element-admin\\src\\components\\DragSelect\\index.vue","mtime":1636272798131},{"path":"E:\\data\\git\\vue-admin\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\data\\git\\vue-admin\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\data\\git\\vue-admin\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\data\\git\\vue-admin\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgU29ydGFibGUgZnJvbSAnc29ydGFibGVqcycNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnRHJhZ1NlbGVjdCcsDQogIHByb3BzOiB7DQogICAgdmFsdWU6IHsNCiAgICAgIHR5cGU6IEFycmF5LA0KICAgICAgcmVxdWlyZWQ6IHRydWUNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgc2VsZWN0VmFsOiB7DQogICAgICBnZXQoKSB7DQogICAgICAgIHJldHVybiBbLi4udGhpcy52YWx1ZV0NCiAgICAgIH0sDQogICAgICBzZXQodmFsKSB7DQogICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgWy4uLnZhbF0pDQogICAgICB9DQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuc2V0U29ydCgpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBzZXRTb3J0KCkgew0KICAgICAgY29uc3QgZWwgPSB0aGlzLiRyZWZzLmRyYWdTZWxlY3QuJGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5lbC1zZWxlY3RfX3RhZ3MgPiBzcGFuJylbMF0NCiAgICAgIHRoaXMuc29ydGFibGUgPSBTb3J0YWJsZS5jcmVhdGUoZWwsIHsNCiAgICAgICAgZ2hvc3RDbGFzczogJ3NvcnRhYmxlLWdob3N0JywgLy8gQ2xhc3MgbmFtZSBmb3IgdGhlIGRyb3AgcGxhY2Vob2xkZXIsDQogICAgICAgIHNldERhdGE6IGZ1bmN0aW9uKGRhdGFUcmFuc2Zlcikgew0KICAgICAgICAgIGRhdGFUcmFuc2Zlci5zZXREYXRhKCdUZXh0JywgJycpDQogICAgICAgICAgLy8gdG8gYXZvaWQgRmlyZWZveCBidWcNCiAgICAgICAgICAvLyBEZXRhaWwgc2VlIDogaHR0cHM6Ly9naXRodWIuY29tL1J1YmFYYS9Tb3J0YWJsZS9pc3N1ZXMvMTAxMg0KICAgICAgICB9LA0KICAgICAgICBvbkVuZDogZXZ0ID0+IHsNCiAgICAgICAgICBjb25zdCB0YXJnZXRSb3cgPSB0aGlzLnZhbHVlLnNwbGljZShldnQub2xkSW5kZXgsIDEpWzBdDQogICAgICAgICAgdGhpcy52YWx1ZS5zcGxpY2UoZXZ0Lm5ld0luZGV4LCAwLCB0YXJnZXRSb3cpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;AAOA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/DragSelect","sourcesContent":["<template>\r\n  <el-select ref=\"dragSelect\" v-model=\"selectVal\" v-bind=\"$attrs\" class=\"drag-select\" multiple v-on=\"$listeners\">\r\n    <slot />\r\n  </el-select>\r\n</template>\r\n\r\n<script>\r\nimport Sortable from 'sortablejs'\r\n\r\nexport default {\r\n  name: 'DragSelect',\r\n  props: {\r\n    value: {\r\n      type: Array,\r\n      required: true\r\n    }\r\n  },\r\n  computed: {\r\n    selectVal: {\r\n      get() {\r\n        return [...this.value]\r\n      },\r\n      set(val) {\r\n        this.$emit('input', [...val])\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.setSort()\r\n  },\r\n  methods: {\r\n    setSort() {\r\n      const el = this.$refs.dragSelect.$el.querySelectorAll('.el-select__tags > span')[0]\r\n      this.sortable = Sortable.create(el, {\r\n        ghostClass: 'sortable-ghost', // Class name for the drop placeholder,\r\n        setData: function(dataTransfer) {\r\n          dataTransfer.setData('Text', '')\r\n          // to avoid Firefox bug\r\n          // Detail see : https://github.com/RubaXa/Sortable/issues/1012\r\n        },\r\n        onEnd: evt => {\r\n          const targetRow = this.value.splice(evt.oldIndex, 1)[0]\r\n          this.value.splice(evt.newIndex, 0, targetRow)\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.drag-select {\r\n  ::v-deep {\r\n    .sortable-ghost {\r\n      opacity: .8;\r\n      color: #fff !important;\r\n      background: #42b983 !important;\r\n    }\r\n\r\n    .el-tag {\r\n      cursor: pointer;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}