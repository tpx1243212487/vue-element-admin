{"remainingRequest":"E:\\data\\git\\vue-admin\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js!E:\\data\\git\\vue-admin\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\data\\git\\vue-admin\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\data\\git\\vue-admin\\vue-element-admin\\src\\components\\Tinymce\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\data\\git\\vue-admin\\vue-element-admin\\src\\components\\Tinymce\\index.vue","mtime":1636272798151},{"path":"E:\\data\\git\\vue-admin\\vue-element-admin\\babel.config.js","mtime":1636272798083},{"path":"E:\\data\\git\\vue-admin\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\data\\git\\vue-admin\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\data\\git\\vue-admin\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\data\\git\\vue-admin\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudGVzdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qKg0KICogZG9jczoNCiAqIGh0dHBzOi8vcGFuamlhY2hlbi5naXRodWIuaW8vdnVlLWVsZW1lbnQtYWRtaW4tc2l0ZS9mZWF0dXJlL2NvbXBvbmVudC9yaWNoLWVkaXRvci5odG1sI3RpbnltY2UNCiAqLwppbXBvcnQgZWRpdG9ySW1hZ2UgZnJvbSAnLi9jb21wb25lbnRzL0VkaXRvckltYWdlJzsKaW1wb3J0IHBsdWdpbnMgZnJvbSAnLi9wbHVnaW5zJzsKaW1wb3J0IHRvb2xiYXIgZnJvbSAnLi90b29sYmFyJzsKaW1wb3J0IGxvYWQgZnJvbSAnLi9keW5hbWljTG9hZFNjcmlwdCc7IC8vIHdoeSB1c2UgdGhpcyBjZG4sIGRldGFpbCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL1BhbkppYUNoZW4vdGlueW1jZS1hbGwtaW4tb25lCgp2YXIgdGlueW1jZUNETiA9ICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL3RpbnltY2UtYWxsLWluLW9uZUA0LjkuMy90aW55bWNlLm1pbi5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVGlueW1jZScsCiAgY29tcG9uZW50czogewogICAgZWRpdG9ySW1hZ2U6IGVkaXRvckltYWdlCiAgfSwKICBwcm9wczogewogICAgaWQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gJ3Z1ZS10aW55bWNlLScgKyArbmV3IERhdGUoKSArICgoTWF0aC5yYW5kb20oKSAqIDEwMDApLnRvRml4ZWQoMCkgKyAnJyk7CiAgICAgIH0KICAgIH0sCiAgICB2YWx1ZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgdG9vbGJhcjogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICBtZW51YmFyOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2ZpbGUgZWRpdCBpbnNlcnQgdmlldyBmb3JtYXQgdGFibGUnCiAgICB9LAogICAgaGVpZ2h0OiB7CiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogMzYwCiAgICB9LAogICAgd2lkdGg6IHsKICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAnYXV0bycKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBoYXNDaGFuZ2U6IGZhbHNlLAogICAgICBoYXNJbml0OiBmYWxzZSwKICAgICAgdGlueW1jZUlkOiB0aGlzLmlkLAogICAgICBmdWxsc2NyZWVuOiBmYWxzZSwKICAgICAgbGFuZ3VhZ2VUeXBlTGlzdDogewogICAgICAgICdlbic6ICdlbicsCiAgICAgICAgJ3poJzogJ3poX0NOJywKICAgICAgICAnZXMnOiAnZXNfTVgnLAogICAgICAgICdqYSc6ICdqYScKICAgICAgfQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjb250YWluZXJXaWR0aDogZnVuY3Rpb24gY29udGFpbmVyV2lkdGgoKSB7CiAgICAgIHZhciB3aWR0aCA9IHRoaXMud2lkdGg7CgogICAgICBpZiAoL15bXGRdKyhcLltcZF0rKT8kLy50ZXN0KHdpZHRoKSkgewogICAgICAgIC8vIG1hdGNoZXMgYDEwMGAsIGAnMTAwJ2AKICAgICAgICByZXR1cm4gIiIuY29uY2F0KHdpZHRoLCAicHgiKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHdpZHRoOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSh2YWwpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuaGFzQ2hhbmdlICYmIHRoaXMuaGFzSW5pdCkgewogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiB3aW5kb3cudGlueW1jZS5nZXQoX3RoaXMyLnRpbnltY2VJZCkuc2V0Q29udGVudCh2YWwgfHwgJycpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfSwKICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGFjdGl2YXRlZCgpIHsKICAgIGlmICh3aW5kb3cudGlueW1jZSkgewogICAgICB0aGlzLmluaXRUaW55bWNlKCk7CiAgICB9CiAgfSwKICBkZWFjdGl2YXRlZDogZnVuY3Rpb24gZGVhY3RpdmF0ZWQoKSB7CiAgICB0aGlzLmRlc3Ryb3lUaW55bWNlKCk7CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIHRoaXMuZGVzdHJveVRpbnltY2UoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgLy8gZHluYW1pYyBsb2FkIHRpbnltY2UgZnJvbSBjZG4KICAgICAgbG9hZCh0aW55bWNlQ0ROLCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgaWYgKGVycikgewogICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKGVyci5tZXNzYWdlKTsKCiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBfdGhpczMuaW5pdFRpbnltY2UoKTsKICAgICAgfSk7CiAgICB9LAogICAgaW5pdFRpbnltY2U6IGZ1bmN0aW9uIGluaXRUaW55bWNlKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB3aW5kb3cudGlueW1jZS5pbml0KHsKICAgICAgICBzZWxlY3RvcjogIiMiLmNvbmNhdCh0aGlzLnRpbnltY2VJZCksCiAgICAgICAgbGFuZ3VhZ2U6IHRoaXMubGFuZ3VhZ2VUeXBlTGlzdFsnZW4nXSwKICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LAogICAgICAgIGJvZHlfY2xhc3M6ICdwYW5lbC1ib2R5ICcsCiAgICAgICAgb2JqZWN0X3Jlc2l6aW5nOiBmYWxzZSwKICAgICAgICB0b29sYmFyOiB0aGlzLnRvb2xiYXIubGVuZ3RoID4gMCA/IHRoaXMudG9vbGJhciA6IHRvb2xiYXIsCiAgICAgICAgbWVudWJhcjogdGhpcy5tZW51YmFyLAogICAgICAgIHBsdWdpbnM6IHBsdWdpbnMsCiAgICAgICAgZW5kX2NvbnRhaW5lcl9vbl9lbXB0eV9ibG9jazogdHJ1ZSwKICAgICAgICBwb3dlcnBhc3RlX3dvcmRfaW1wb3J0OiAnY2xlYW4nLAogICAgICAgIGNvZGVfZGlhbG9nX2hlaWdodDogNDUwLAogICAgICAgIGNvZGVfZGlhbG9nX3dpZHRoOiAxMDAwLAogICAgICAgIGFkdmxpc3RfYnVsbGV0X3N0eWxlczogJ3NxdWFyZScsCiAgICAgICAgYWR2bGlzdF9udW1iZXJfc3R5bGVzOiAnZGVmYXVsdCcsCiAgICAgICAgaW1hZ2V0b29sc19jb3JzX2hvc3RzOiBbJ3d3dy50aW55bWNlLmNvbScsICdjb2RlcGVuLmlvJ10sCiAgICAgICAgZGVmYXVsdF9saW5rX3RhcmdldDogJ19ibGFuaycsCiAgICAgICAgbGlua190aXRsZTogZmFsc2UsCiAgICAgICAgbm9uYnJlYWtpbmdfZm9yY2VfdGFiOiB0cnVlLAogICAgICAgIC8vIGluc2VydGluZyBub25icmVha2luZyBzcGFjZSAmbmJzcDsgbmVlZCBOb25icmVha2luZyBTcGFjZSBQbHVnaW4KICAgICAgICBpbml0X2luc3RhbmNlX2NhbGxiYWNrOiBmdW5jdGlvbiBpbml0X2luc3RhbmNlX2NhbGxiYWNrKGVkaXRvcikgewogICAgICAgICAgaWYgKF90aGlzLnZhbHVlKSB7CiAgICAgICAgICAgIGVkaXRvci5zZXRDb250ZW50KF90aGlzLnZhbHVlKTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpcy5oYXNJbml0ID0gdHJ1ZTsKICAgICAgICAgIGVkaXRvci5vbignTm9kZUNoYW5nZSBDaGFuZ2UgS2V5VXAgU2V0Q29udGVudCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXM0Lmhhc0NoYW5nZSA9IHRydWU7CgogICAgICAgICAgICBfdGhpczQuJGVtaXQoJ2lucHV0JywgZWRpdG9yLmdldENvbnRlbnQoKSk7CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHNldHVwOiBmdW5jdGlvbiBzZXR1cChlZGl0b3IpIHsKICAgICAgICAgIGVkaXRvci5vbignRnVsbHNjcmVlblN0YXRlQ2hhbmdlZCcsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIF90aGlzLmZ1bGxzY3JlZW4gPSBlLnN0YXRlOwogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICAvLyBpdCB3aWxsIHRyeSB0byBrZWVwIHRoZXNlIFVSTHMgaW50YWN0CiAgICAgICAgLy8gaHR0cHM6Ly93d3cudGlueS5jbG91ZC9kb2NzLTN4L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL0NvbmZpZ3VyYXRpb24zeEBjb252ZXJ0X3VybHMvCiAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTE5NjIwNS9kaXNhYmxlLXRpbnltY2UtYWJzb2x1dGUtdG8tcmVsYXRpdmUtdXJsLWNvbnZlcnNpb25zCiAgICAgICAgY29udmVydF91cmxzOiBmYWxzZSAvLyDmlbTlkIjkuIPniZvkuIrkvKAKICAgICAgICAvLyBpbWFnZXNfZGF0YWltZ19maWx0ZXIoaW1nKSB7CiAgICAgICAgLy8gICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAvLyAgICAgY29uc3QgJGltYWdlID0gJChpbWcpOwogICAgICAgIC8vICAgICAkaW1hZ2UucmVtb3ZlQXR0cignd2lkdGgnKTsKICAgICAgICAvLyAgICAgJGltYWdlLnJlbW92ZUF0dHIoJ2hlaWdodCcpOwogICAgICAgIC8vICAgICBpZiAoJGltYWdlWzBdLmhlaWdodCAmJiAkaW1hZ2VbMF0ud2lkdGgpIHsKICAgICAgICAvLyAgICAgICAkaW1hZ2UuYXR0cignZGF0YS13c2NudHlwZScsICdpbWFnZScpOwogICAgICAgIC8vICAgICAgICRpbWFnZS5hdHRyKCdkYXRhLXdzY25oJywgJGltYWdlWzBdLmhlaWdodCk7CiAgICAgICAgLy8gICAgICAgJGltYWdlLmF0dHIoJ2RhdGEtd3NjbncnLCAkaW1hZ2VbMF0ud2lkdGgpOwogICAgICAgIC8vICAgICAgICRpbWFnZS5hZGRDbGFzcygnd3NjbnBoJyk7CiAgICAgICAgLy8gICAgIH0KICAgICAgICAvLyAgIH0sIDApOwogICAgICAgIC8vICAgcmV0dXJuIGltZwogICAgICAgIC8vIH0sCiAgICAgICAgLy8gaW1hZ2VzX3VwbG9hZF9oYW5kbGVyKGJsb2JJbmZvLCBzdWNjZXNzLCBmYWlsdXJlLCBwcm9ncmVzcykgewogICAgICAgIC8vICAgcHJvZ3Jlc3MoMCk7CiAgICAgICAgLy8gICBjb25zdCB0b2tlbiA9IF90aGlzLiRzdG9yZS5nZXR0ZXJzLnRva2VuOwogICAgICAgIC8vICAgZ2V0VG9rZW4odG9rZW4pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIC8vICAgICBjb25zdCB1cmwgPSByZXNwb25zZS5kYXRhLnFpbml1X3VybDsKICAgICAgICAvLyAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAvLyAgICAgZm9ybURhdGEuYXBwZW5kKCd0b2tlbicsIHJlc3BvbnNlLmRhdGEucWluaXVfdG9rZW4pOwogICAgICAgIC8vICAgICBmb3JtRGF0YS5hcHBlbmQoJ2tleScsIHJlc3BvbnNlLmRhdGEucWluaXVfa2V5KTsKICAgICAgICAvLyAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgYmxvYkluZm8uYmxvYigpLCB1cmwpOwogICAgICAgIC8vICAgICB1cGxvYWQoZm9ybURhdGEpLnRoZW4oKCkgPT4gewogICAgICAgIC8vICAgICAgIHN1Y2Nlc3ModXJsKTsKICAgICAgICAvLyAgICAgICBwcm9ncmVzcygxMDApOwogICAgICAgIC8vICAgICB9KQogICAgICAgIC8vICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAvLyAgICAgZmFpbHVyZSgn5Ye6546w5pyq55+l6Zeu6aKY77yM5Yi35paw6aG16Z2i77yM5oiW6ICF6IGU57O756iL5bqP5ZGYJykKICAgICAgICAvLyAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAvLyAgIH0pOwogICAgICAgIC8vIH0sCgogICAgICB9KTsKICAgIH0sCiAgICBkZXN0cm95VGlueW1jZTogZnVuY3Rpb24gZGVzdHJveVRpbnltY2UoKSB7CiAgICAgIHZhciB0aW55bWNlID0gd2luZG93LnRpbnltY2UuZ2V0KHRoaXMudGlueW1jZUlkKTsKCiAgICAgIGlmICh0aGlzLmZ1bGxzY3JlZW4pIHsKICAgICAgICB0aW55bWNlLmV4ZWNDb21tYW5kKCdtY2VGdWxsU2NyZWVuJyk7CiAgICAgIH0KCiAgICAgIGlmICh0aW55bWNlKSB7CiAgICAgICAgdGlueW1jZS5kZXN0cm95KCk7CiAgICAgIH0KICAgIH0sCiAgICBzZXRDb250ZW50OiBmdW5jdGlvbiBzZXRDb250ZW50KHZhbHVlKSB7CiAgICAgIHdpbmRvdy50aW55bWNlLmdldCh0aGlzLnRpbnltY2VJZCkuc2V0Q29udGVudCh2YWx1ZSk7CiAgICB9LAogICAgZ2V0Q29udGVudDogZnVuY3Rpb24gZ2V0Q29udGVudCgpIHsKICAgICAgd2luZG93LnRpbnltY2UuZ2V0KHRoaXMudGlueW1jZUlkKS5nZXRDb250ZW50KCk7CiAgICB9LAogICAgaW1hZ2VTdWNjZXNzQ0JLOiBmdW5jdGlvbiBpbWFnZVN1Y2Nlc3NDQksoYXJyKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gd2luZG93LnRpbnltY2UuZ2V0KF90aGlzNS50aW55bWNlSWQpLmluc2VydENvbnRlbnQoIjxpbWcgY2xhc3M9XCJ3c2NucGhcIiBzcmM9XCIiLmNvbmNhdCh2LnVybCwgIlwiID4iKSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div :class=\"{fullscreen:fullscreen}\" class=\"tinymce-container\" :style=\"{width:containerWidth}\">\r\n    <textarea :id=\"tinymceId\" class=\"tinymce-textarea\" />\r\n    <div class=\"editor-custom-btn-container\">\r\n      <editorImage color=\"#1890ff\" class=\"editor-upload-btn\" @successCBK=\"imageSuccessCBK\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * docs:\r\n * https://panjiachen.github.io/vue-element-admin-site/feature/component/rich-editor.html#tinymce\r\n */\r\nimport editorImage from './components/EditorImage'\r\nimport plugins from './plugins'\r\nimport toolbar from './toolbar'\r\nimport load from './dynamicLoadScript'\r\n\r\n// why use this cdn, detail see https://github.com/PanJiaChen/tinymce-all-in-one\r\nconst tinymceCDN = 'https://cdn.jsdelivr.net/npm/tinymce-all-in-one@4.9.3/tinymce.min.js'\r\n\r\nexport default {\r\n  name: 'Tinymce',\r\n  components: { editorImage },\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      default: function() {\r\n        return 'vue-tinymce-' + +new Date() + ((Math.random() * 1000).toFixed(0) + '')\r\n      }\r\n    },\r\n    value: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    toolbar: {\r\n      type: Array,\r\n      required: false,\r\n      default() {\r\n        return []\r\n      }\r\n    },\r\n    menubar: {\r\n      type: String,\r\n      default: 'file edit insert view format table'\r\n    },\r\n    height: {\r\n      type: [Number, String],\r\n      required: false,\r\n      default: 360\r\n    },\r\n    width: {\r\n      type: [Number, String],\r\n      required: false,\r\n      default: 'auto'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      hasChange: false,\r\n      hasInit: false,\r\n      tinymceId: this.id,\r\n      fullscreen: false,\r\n      languageTypeList: {\r\n        'en': 'en',\r\n        'zh': 'zh_CN',\r\n        'es': 'es_MX',\r\n        'ja': 'ja'\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    containerWidth() {\r\n      const width = this.width\r\n      if (/^[\\d]+(\\.[\\d]+)?$/.test(width)) { // matches `100`, `'100'`\r\n        return `${width}px`\r\n      }\r\n      return width\r\n    }\r\n  },\r\n  watch: {\r\n    value(val) {\r\n      if (!this.hasChange && this.hasInit) {\r\n        this.$nextTick(() =>\r\n          window.tinymce.get(this.tinymceId).setContent(val || ''))\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  },\r\n  activated() {\r\n    if (window.tinymce) {\r\n      this.initTinymce()\r\n    }\r\n  },\r\n  deactivated() {\r\n    this.destroyTinymce()\r\n  },\r\n  destroyed() {\r\n    this.destroyTinymce()\r\n  },\r\n  methods: {\r\n    init() {\r\n      // dynamic load tinymce from cdn\r\n      load(tinymceCDN, (err) => {\r\n        if (err) {\r\n          this.$message.error(err.message)\r\n          return\r\n        }\r\n        this.initTinymce()\r\n      })\r\n    },\r\n    initTinymce() {\r\n      const _this = this\r\n      window.tinymce.init({\r\n        selector: `#${this.tinymceId}`,\r\n        language: this.languageTypeList['en'],\r\n        height: this.height,\r\n        body_class: 'panel-body ',\r\n        object_resizing: false,\r\n        toolbar: this.toolbar.length > 0 ? this.toolbar : toolbar,\r\n        menubar: this.menubar,\r\n        plugins: plugins,\r\n        end_container_on_empty_block: true,\r\n        powerpaste_word_import: 'clean',\r\n        code_dialog_height: 450,\r\n        code_dialog_width: 1000,\r\n        advlist_bullet_styles: 'square',\r\n        advlist_number_styles: 'default',\r\n        imagetools_cors_hosts: ['www.tinymce.com', 'codepen.io'],\r\n        default_link_target: '_blank',\r\n        link_title: false,\r\n        nonbreaking_force_tab: true, // inserting nonbreaking space &nbsp; need Nonbreaking Space Plugin\r\n        init_instance_callback: editor => {\r\n          if (_this.value) {\r\n            editor.setContent(_this.value)\r\n          }\r\n          _this.hasInit = true\r\n          editor.on('NodeChange Change KeyUp SetContent', () => {\r\n            this.hasChange = true\r\n            this.$emit('input', editor.getContent())\r\n          })\r\n        },\r\n        setup(editor) {\r\n          editor.on('FullscreenStateChanged', (e) => {\r\n            _this.fullscreen = e.state\r\n          })\r\n        },\r\n        // it will try to keep these URLs intact\r\n        // https://www.tiny.cloud/docs-3x/reference/configuration/Configuration3x@convert_urls/\r\n        // https://stackoverflow.com/questions/5196205/disable-tinymce-absolute-to-relative-url-conversions\r\n        convert_urls: false\r\n        // 整合七牛上传\r\n        // images_dataimg_filter(img) {\r\n        //   setTimeout(() => {\r\n        //     const $image = $(img);\r\n        //     $image.removeAttr('width');\r\n        //     $image.removeAttr('height');\r\n        //     if ($image[0].height && $image[0].width) {\r\n        //       $image.attr('data-wscntype', 'image');\r\n        //       $image.attr('data-wscnh', $image[0].height);\r\n        //       $image.attr('data-wscnw', $image[0].width);\r\n        //       $image.addClass('wscnph');\r\n        //     }\r\n        //   }, 0);\r\n        //   return img\r\n        // },\r\n        // images_upload_handler(blobInfo, success, failure, progress) {\r\n        //   progress(0);\r\n        //   const token = _this.$store.getters.token;\r\n        //   getToken(token).then(response => {\r\n        //     const url = response.data.qiniu_url;\r\n        //     const formData = new FormData();\r\n        //     formData.append('token', response.data.qiniu_token);\r\n        //     formData.append('key', response.data.qiniu_key);\r\n        //     formData.append('file', blobInfo.blob(), url);\r\n        //     upload(formData).then(() => {\r\n        //       success(url);\r\n        //       progress(100);\r\n        //     })\r\n        //   }).catch(err => {\r\n        //     failure('出现未知问题，刷新页面，或者联系程序员')\r\n        //     console.log(err);\r\n        //   });\r\n        // },\r\n      })\r\n    },\r\n    destroyTinymce() {\r\n      const tinymce = window.tinymce.get(this.tinymceId)\r\n      if (this.fullscreen) {\r\n        tinymce.execCommand('mceFullScreen')\r\n      }\r\n\r\n      if (tinymce) {\r\n        tinymce.destroy()\r\n      }\r\n    },\r\n    setContent(value) {\r\n      window.tinymce.get(this.tinymceId).setContent(value)\r\n    },\r\n    getContent() {\r\n      window.tinymce.get(this.tinymceId).getContent()\r\n    },\r\n    imageSuccessCBK(arr) {\r\n      arr.forEach(v => window.tinymce.get(this.tinymceId).insertContent(`<img class=\"wscnph\" src=\"${v.url}\" >`))\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.tinymce-container {\r\n  position: relative;\r\n  line-height: normal;\r\n}\r\n\r\n.tinymce-container {\r\n  ::v-deep {\r\n    .mce-fullscreen {\r\n      z-index: 10000;\r\n    }\r\n  }\r\n}\r\n\r\n.tinymce-textarea {\r\n  visibility: hidden;\r\n  z-index: -1;\r\n}\r\n\r\n.editor-custom-btn-container {\r\n  position: absolute;\r\n  right: 4px;\r\n  top: 4px;\r\n  /*z-index: 2005;*/\r\n}\r\n\r\n.fullscreen .editor-custom-btn-container {\r\n  z-index: 10000;\r\n  position: fixed;\r\n}\r\n\r\n.editor-upload-btn {\r\n  display: inline-block;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/Tinymce"}]}